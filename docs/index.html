
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="#3f51b5">
  <script src="_static/javascripts/modernizr.js"></script>
  
  
  
    <title>festoon &#8212; festoon  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/material.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
  
   

  </head>
  <body dir=ltr
        data-md-color-primary=blue-grey data-md-color-accent=blue>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#index" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="#" title="festoon  documentation"
           class="md-header-nav__button md-logo">
          
            &nbsp;
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">festoon  documentation</span>
          <span class="md-header-nav__topic"> festoon </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" action="search.html" method="get" name="search">
      <input type="text" class="md-search__input" name="q" placeholder="Search"
             autocapitalize="off" autocomplete="off" spellcheck="false"
             data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>

      </div>
      
      
  
  <script src="_static/javascripts/version_dropdown.js"></script>
  <script>
    var json_loc = ""versions.json"",
        target_loc = "../",
        text = "Versions";
    $( document ).ready( add_version_dropdown(json_loc, target_loc, text));
  </script>
  

    </div>
  </nav>
</header>

  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
          <li class="md-tabs__item"><a href="#" class="md-tabs__link">festoon  documentation</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="#" title="festoon documentation" class="md-nav__button md-logo">
      
        <img src="_static/" alt=" logo" width="48" height="48">
      
    </a>
    <a href="#"
       title="festoon documentation">festoon  documentation</a>
  </label>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#index--page-root" class="md-nav__link">festoon</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#logit" class="md-nav__link">logit</a>
        </li>
        <li class="md-nav__item"><a href="#timeit" class="md-nav__link">timeit</a>
        </li>
        <li class="md-nav__item"><a href="#fromenv" class="md-nav__link">fromenv</a>
        </li>
        <li class="md-nav__item"><a href="#docfill" class="md-nav__link">docfill</a>
        </li>
        <li class="md-nav__item"><a href="#indices-and-tables" class="md-nav__link">Indices and tables</a>
        </li></ul>
            </nav>
        </li>
    
<li class="md-nav__item"><a class="md-nav__extra_link" href="_sources/index.rst.txt">Show Source</a> </li>

<li id="searchbox" class="md-nav__item"></li>

  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  <section id="festoon">
<h1 id="index--page-root">festoon<a class="headerlink" href="#index--page-root" title="Permalink to this headline">¶</a></h1>
<p><code class="code docutils literal notranslate"><span class="pre">festoon</span></code> is a collection of Python decorators for common tasks. This includes things like:</p>
<ul class="simple">
<li><p>logging when a function was called and return (optionally logging the arguments and return value)</p></li>
<li><p>logging the runtime of a function</p></li>
<li><p>automatically substituting environment variables for arguments</p></li>
<li><p>adding variables to docstrings</p></li>
</ul>
<span class="target" id="module-festoon"></span><section id="logit">
<h2 id="logit">logit<a class="headerlink" href="#logit" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="festoon.logit">
<span class="sig-prename descclassname"><span class="pre">festoon.</span></span><span class="sig-name descname"><span class="pre">logit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">fn:</span> <span class="pre">Optional[Callable]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">*,</span> <span class="pre">name:</span> <span class="pre">Optional[str]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">level:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">20,</span> <span class="pre">fmtcall:</span> <span class="pre">Optional[Callable[[Callable,</span> <span class="pre">tuple,</span> <span class="pre">dict],</span> <span class="pre">str]]</span> <span class="pre">=</span> <span class="pre">&lt;function</span> <span class="pre">format_call&gt;,</span> <span class="pre">fmtexcp:</span> <span class="pre">Optional[Callable[[Callable,</span> <span class="pre">Exception],</span> <span class="pre">str]]</span> <span class="pre">=</span> <span class="pre">&lt;function</span> <span class="pre">format_excp&gt;,</span> <span class="pre">fmtdone:</span> <span class="pre">Optional[Callable[[Callable,</span> <span class="pre">Any],</span> <span class="pre">str]]</span> <span class="pre">=</span> <span class="pre">&lt;function</span> <span class="pre">format_done&gt;</span></em><span class="sig-paren">)</span><a class="headerlink" href="#festoon.logit" title="Permalink to this definition">¶</a></dt>
<dd><p>Log a function on call, exception, and return</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is not a mathematical logit function :)</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fn</strong> – function to be decorated</p></li>
<li><p><strong>name</strong> – name of logger to use. If None, then fn.__module__ will be used.</p></li>
<li><p><strong>level</strong> – logging level. Default is logging.INFO.</p></li>
<li><p><strong>fmtcall</strong> – a callable that formats the inputs used to invoke <cite>fn</cite>. If
None, then no logging call is made before function invokation.</p></li>
<li><p><strong>fmtexcp</strong> – a callable that formats exception if one is raised when
invoking <cite>fn</cite>. If None, then no logging called is made.</p></li>
<li><p><strong>fmtdone</strong> – a callable that formats the data returned by invoking <cite>fn</cite>.
If None, then no logging call is made on the returned data.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>The default settings add a logging statement when the function
is invoked (CALL) and completed (DONE). The inputs to the function
are logged on call and the result returned by the function is
logged on done:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@logit</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logging</span><span class="o">.</span><span class="n">basicConfg</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go"># INFO.__main__: CALL func(x=1, y=2)</span>
<span class="go"># INFO.__main__: DONE func-&gt;3</span>
</pre></div>
</div>
<p>The contents of log messages are controlled by providing format
functions to the decorator. A value of <code class="code docutils literal notranslate"><span class="pre">None</span></code> produces no
log message for the respective stage:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@logit</span><span class="p">(</span><span class="n">fmtdone</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go"># INFO.__main__: CALL func(x=1, y=2)</span>
</pre></div>
</div>
<p>If a class member function is decorated, the default logging formatters
will automatically prefix the class name in logging statements:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Foo</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nd">@logit</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logging</span><span class="o">.</span><span class="n">basicConfg</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Foo</span><span class="p">()</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go"># INFO.__main__: CALL Foo.func(x=1, y=2)</span>
<span class="go"># INFO.__main__: DONE Foo.func-&gt;3</span>
</pre></div>
</div>
</dd></dl>
<dl class="py data">
<dt class="sig sig-object py" id="festoon.logging_tools.FMTCALL_TYPE">
<span class="sig-prename descclassname"><span class="pre">festoon.logging_tools.</span></span><span class="sig-name descname"><span class="pre">FMTCALL_TYPE</span></span><a class="headerlink" href="#festoon.logging_tools.FMTCALL_TYPE" title="Permalink to this definition">¶</a></dt>
<dd><p>Type signature of <code class="code docutils literal notranslate"><span class="pre">fmtcall</span></code> option of <code class="code docutils literal notranslate"><span class="pre">logit</span></code> decorator. The
call formatter accepts the function that was decorated and the
(*args, **kwargs) tuple and dict used to invoke the function. The return
from the formatter should be a string used in the log message.</p>
<p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">Callable</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</p>
</dd></dl>
<dl class="py data">
<dt class="sig sig-object py" id="festoon.logging_tools.FMTEXCP_TYPE">
<span class="sig-prename descclassname"><span class="pre">festoon.logging_tools.</span></span><span class="sig-name descname"><span class="pre">FMTEXCP_TYPE</span></span><a class="headerlink" href="#festoon.logging_tools.FMTEXCP_TYPE" title="Permalink to this definition">¶</a></dt>
<dd><p>Type signature of <code class="code docutils literal notranslate"><span class="pre">fmtexcp</span></code> option of <code class="code docutils literal notranslate"><span class="pre">logit</span></code> decorator</p>
<p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">Callable</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</p>
</dd></dl>
<dl class="py data">
<dt class="sig sig-object py" id="festoon.logging_tools.FMTDONE_TYPE">
<span class="sig-prename descclassname"><span class="pre">festoon.logging_tools.</span></span><span class="sig-name descname"><span class="pre">FMTDONE_TYPE</span></span><a class="headerlink" href="#festoon.logging_tools.FMTDONE_TYPE" title="Permalink to this definition">¶</a></dt>
<dd><p>Type signature of <code class="code docutils literal notranslate"><span class="pre">fmtdone</span></code> option of <code class="code docutils literal notranslate"><span class="pre">logit</span></code> decorator. The
formatter takes as input the decorated function and the value returned
from the call. The return is a string used for the log message.</p>
<p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">Callable</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">Any</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</p>
</dd></dl>
</section>
<section id="timeit">
<h2 id="timeit">timeit<a class="headerlink" href="#timeit" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="festoon.timeit">
<span class="sig-prename descclassname"><span class="pre">festoon.</span></span><span class="sig-name descname"><span class="pre">timeit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">fn:</span> <span class="pre">Optional[Callable]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">*,</span> <span class="pre">name:</span> <span class="pre">Optional[str]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">level:</span> <span class="pre">Optional[int]</span> <span class="pre">=</span> <span class="pre">20,</span> <span class="pre">fmttime:</span> <span class="pre">Union[Callable[[Callable,</span> <span class="pre">float],</span> <span class="pre">str],</span> <span class="pre">str]</span> <span class="pre">=</span> <span class="pre">&lt;function</span> <span class="pre">format_time&gt;</span></em><span class="sig-paren">)</span><a class="headerlink" href="#festoon.timeit" title="Permalink to this definition">¶</a></dt>
<dd><p>Log time ellapsed by this function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fn</strong> – function to be decorated</p></li>
<li><p><strong>name</strong> – name of logger to use. If None, then fn.__module__ will be used.</p></li>
<li><p><strong>level</strong> – logging level. Default is logging.INFO.</p></li>
<li><p><strong>fmttime</strong> – fmttime can either be a function or a format string. If it
is a function, then it should accept (fn: Callable, seconds: float)
and return a message string. If <cite>fmttime</cite> is a string, then it
should be a format string with argument “seconds”. See examples
below</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>The default settings produce a log message at level info with
the ellapsed number of seconds taken by the decorated function:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@timeit</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="kn">import</span> <span class="nn">time</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.75</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span><span class="p">()</span>
<span class="go"># INFO:__main__:TIME func 0.75s</span>
</pre></div>
</div>
<p>A format string can be used to customize the log message:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@timeit</span><span class="p">(</span><span class="n">fmttime</span><span class="o">=</span><span class="s2">"{seconds*1000:.0f} milliseconds"</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="kn">import</span> <span class="nn">time</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.75</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span><span class="p">()</span>
<span class="go"># INFO:__main__:TIME func 751 milliseconds</span>
</pre></div>
</div>
<p>Or a callable can be used to customize the log message:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@timeit</span><span class="p">(</span><span class="n">fmttime</span><span class="o">=</span><span class="k">lambda</span> <span class="n">fn</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">fn</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> took </span><span class="si">{</span><span class="n">s</span><span class="si">}</span><span class="s2"> seconds!"</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="kn">import</span> <span class="nn">time</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.75</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span><span class="p">()</span>
<span class="go"># INFO:__main__:func took 0.7508368770004381 seconds!</span>
</pre></div>
</div>
</dd></dl>
<dl class="py data">
<dt class="sig sig-object py" id="festoon.logging_tools.FMTTIME_TYPE">
<span class="sig-prename descclassname"><span class="pre">festoon.logging_tools.</span></span><span class="sig-name descname"><span class="pre">FMTTIME_TYPE</span></span><a class="headerlink" href="#festoon.logging_tools.FMTTIME_TYPE" title="Permalink to this definition">¶</a></dt>
<dd><p>Type signature of <code class="code docutils literal notranslate"><span class="pre">fmttime</span></code> option <code class="code docutils literal notranslate"><span class="pre">timeit</span></code> decorator.</p>
<p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">Callable</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</p>
</dd></dl>
</section>
<section id="fromenv">
<h2 id="fromenv">fromenv<a class="headerlink" href="#fromenv" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="festoon.fromenv">
<span class="sig-prename descclassname"><span class="pre">festoon.</span></span><span class="sig-name descname"><span class="pre">fromenv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#festoon.fromenv" title="Permalink to this definition">¶</a></dt>
<dd><p>Allow any keyword argument to be supplied by an environment variable</p>
<p class="rubric">Notes</p>
<p>If a keyword argument has type annotations, then variable will
be attempted to be cast as the respective type if it is read
from the environment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fn</strong> – callable to be decorated</p></li>
<li><p><strong>prefix</strong> – name to use as a prefix for supplied environment variables.
For example, if the decorated function has a keyword argument
“table_name” and prefix=”DB”, then the table_name argument
may be set via the environment variable “DB_TABLE_NAME”. If None,
then the prefix is set to the decorated function’s name in
all caps.</p></li>
<li><p><strong>include</strong> – only include these listed parameter names for substitution</p></li>
<li><p><strong>exclude</strong> – list of paramters names to ignore</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Let’s define a function in <code class="code docutils literal notranslate"><span class="pre">main.py</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@fromenv</span>
<span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">42</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">"__main__"</span><span class="p">:</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">func</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<p>Then, we can run <code class="code docutils literal notranslate"><span class="pre">main.py</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ FUNC_X=100 python main.py
142
$ FUNC_X=100 FUNC_Y=-1 python main.py
99
</pre></div>
</div>
<p>Now let’s use a different prefix and add excludes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@fromenv</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="s2">"FOO"</span><span class="p">,</span> <span class="n">excludes</span><span class="o">=</span><span class="p">[</span><span class="s2">"y"</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">42</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">"__main__"</span><span class="p">:</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">func</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<p>Now, running looks like as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ FOO_X=100 python main.py
142
$ FOO_X=100 FOO_Y=-1 python main.py
142
</pre></div>
</div>
<p>Note that in the second execution, FOO_Y=-1 has no effect because
“y” was in the excludes list.</p>
</dd></dl>
</section>
<section id="docfill">
<h2 id="docfill">docfill<a class="headerlink" href="#docfill" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="festoon.docfill">
<span class="sig-prename descclassname"><span class="pre">festoon.</span></span><span class="sig-name descname"><span class="pre">docfill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#festoon.docfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Format the decorated function’s docstring using given args and kwargs</p>
<p>This is useful if some functions share many common inputs or if the
range of valid values for a parameter is specified by some global constant.</p>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>If a template string is provided, then args and kwargs are
formatted into this string to produce the decorated
function’s docstring</p></li>
<li><p>If no template string is provided and the decorated function’s
docstring is not None, then this docstring is formatted with the
given args and kwargs.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> – values to be formatted in docstring as positional arguments,
e.g., {0}, {1}, etc.</p></li>
<li><p><strong>kwargs</strong> – values to be formatted in docstring as keyword arguments,
e.g, {some_var}, {the_value}, etc.</p></li>
<li><p><strong>template</strong> – string to use as template for decorated function’s docstring</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@docfill</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">42</span><span class="p">],</span> <span class="n">valid_animals</span><span class="o">=</span><span class="p">{</span><span class="s2">"cat"</span><span class="p">,</span> <span class="s2">"dog"</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">numbers</span><span class="p">,</span> <span class="n">animals</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="sd">"""This is a function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sd">    Args:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sd">        numbers: options are {0}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sd">        animals: valid choices are {valid_animals}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sd">    """</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">help</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="go">Help on function func in module __main__:</span>
<span class="go">func(numbers, animals)</span>
<span class="go">    This is a function</span>
<span class="go">    Args:</span>
<span class="go">        numbers: options are [1, 2, 42]</span>
<span class="go">        animals: valid choices are {'dog', 'cat'}</span>
</pre></div>
</div>
</dd></dl>
</section>
<section id="indices-and-tables">
<h2 id="indices-and-tables">Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</section>
</section>


          </article>
        </div>
      </div>
    </main>
  </div>
  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
          <div class="md-footer-copyright__highlight">
              &#169; Copyright 2021, Matt Hancock.
              
          </div>
            Created using
            <a href="http://www.sphinx-doc.org/">Sphinx</a> 4.3.0.
             and
            <a href="https://github.com/bashtage/sphinx-material/">Material for
              Sphinx</a>
        </div>
      </div>
    </div>
  </footer>
  <script src="_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
  </body>
</html>